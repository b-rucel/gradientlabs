import type { Preset, GradientState } from '../types'

const addDefaultProperties = (config: Partial<GradientState>): GradientState => ({
  // Gradient type
  gradientType: 'linear',

  // Colors (keep existing values)
  color1: config.color1 || '#0088cc',
  color2: config.color2 || '#ff8844',
  color3: config.color3 || '#1a3a52',
  color1Opacity: config.color1Opacity || 100,
  color2Opacity: config.color2Opacity || 100,
  color3Opacity: config.color3Opacity || 100,
  color1Position: config.color1Position || 0,
  color2Position: config.color2Position || 50,
  color3Position: config.color3Position || 100,

  // Linear gradient properties
  gradientAngle: config.gradientAngle || 135,

  // Radial gradient properties
  radialCenterX: 50,
  radialCenterY: 50,
  radialShape: 'circle',
  radialSize: 'farthest-corner',

  // Conic gradient properties
  conicAngle: 0,
  conicCenterX: 50,
  conicCenterY: 50,

  // Multi-layer blending properties
  gradientLayers: config.gradientLayers || [],
  multiLayerBlendingEnabled: config.multiLayerBlendingEnabled || false,

  // Legacy blending properties
  blendingEnabled: false,
  blendMode: 'multiply',
  secondGradientType: 'linear',
  secondGradientAngle: 45,
  secondColor1: '#ff0000',
  secondColor2: '#0000ff',
  secondColor1Position: 0,
  secondColor2Position: 100,
  blendOpacity: 50,

  // Pattern properties (keep existing values)
  patternOpacity: config.patternOpacity || 5,
  patternColor: config.patternColor || '#ffffff',
  patternEnabled: config.patternEnabled !== undefined ? config.patternEnabled : true,
  pattern1Angle: config.pattern1Angle || 45,
  pattern1Size: config.pattern1Size || 10,
  pattern2Angle: config.pattern2Angle || -45,
  pattern2Size: config.pattern2Size || 10,

  // Noise properties (keep existing values)
  noiseEnabled: config.noiseEnabled !== undefined ? config.noiseEnabled : false,
  noiseOpacity: config.noiseOpacity || 10,
  noiseSize: config.noiseSize || 10,
})

const rawPresets = [
  {
    name: 'Classic',
    config: {
      color1: '#0088cc',
      color2: '#ff8844',
      color3: '#1a3a52',
      color1Opacity: 100,
      color2Opacity: 100,
      color3Opacity: 100,
      color1Position: 0,
      color2Position: 50,
      color3Position: 100,
      gradientAngle: 135,
      patternOpacity: 5,
      patternColor: '#ffffff',
      patternEnabled: true,
      pattern1Angle: 45,
      pattern1Size: 10,
      pattern2Angle: -45,
      pattern2Size: 10,
      noiseEnabled: false,
      noiseOpacity: 10,
      noiseSize: 10,
    },
  },
  {
    name: 'Ocean',
    config: {
      color1: '#001a4d',
      color2: '#0066ff',
      color3: '#00ccff',
      color1Opacity: 100,
      color2Opacity: 100,
      color3Opacity: 100,
      color1Position: 0,
      color2Position: 50,
      color3Position: 100,
      gradientAngle: 45,
      patternOpacity: 3,
      patternColor: '#ffffff',
      patternEnabled: true,
      pattern1Angle: 30,
      pattern1Size: 12,
      pattern2Angle: -30,
      pattern2Size: 12,
      noiseEnabled: false,
      noiseOpacity: 10,
      noiseSize: 10,
    },
  },
  {
    name: 'Sunset',
    config: {
      color1: '#ff6b00',
      color2: '#ffaa00',
      color3: '#ff0066',
      color1Opacity: 100,
      color2Opacity: 100,
      color3Opacity: 100,
      color1Position: 0,
      color2Position: 50,
      color3Position: 100,
      gradientAngle: 180,
      patternOpacity: 8,
      patternColor: '#ffffff',
      patternEnabled: true,
      pattern1Angle: 60,
      pattern1Size: 8,
      pattern2Angle: -60,
      pattern2Size: 8,
      noiseEnabled: false,
      noiseOpacity: 10,
      noiseSize: 10,
    },
  },
  {
    name: 'Forest',
    config: {
      color1: '#0d3b0d',
      color2: '#228b22',
      color3: '#32cd32',
      color1Opacity: 100,
      color2Opacity: 100,
      color3Opacity: 100,
      color1Position: 0,
      color2Position: 50,
      color3Position: 100,
      gradientAngle: 120,
      patternOpacity: 6,
      patternColor: '#ffffff',
      patternEnabled: true,
      pattern1Angle: 45,
      pattern1Size: 15,
      pattern2Angle: -45,
      pattern2Size: 15,
      noiseEnabled: false,
      noiseOpacity: 10,
      noiseSize: 10,
    },
  },
  {
    name: 'Purple Storm',
    config: {
      color1: '#2d1b4e',
      color2: '#7b2cbf',
      color3: '#b5179e',
      color1Opacity: 100,
      color2Opacity: 100,
      color3Opacity: 100,
      color1Position: 0,
      color2Position: 50,
      color3Position: 100,
      gradientAngle: 315,
      patternOpacity: 7,
      patternColor: '#ffffff',
      patternEnabled: true,
      pattern1Angle: 75,
      pattern1Size: 11,
      pattern2Angle: -75,
      pattern2Size: 11,
      noiseEnabled: false,
      noiseOpacity: 10,
      noiseSize: 10,
    },
  },
  {
    name: 'Minimalist',
    config: {
      color1: '#f5f5f5',
      color2: '#cccccc',
      color3: '#888888',
      color1Opacity: 100,
      color2Opacity: 100,
      color3Opacity: 100,
      color1Position: 0,
      color2Position: 50,
      color3Position: 100,
      gradientAngle: 90,
      patternOpacity: 2,
      patternColor: '#000000',
      patternEnabled: true,
      pattern1Angle: 45,
      pattern1Size: 8,
      pattern2Angle: -45,
      pattern2Size: 8,
      noiseEnabled: false,
      noiseOpacity: 10,
      noiseSize: 10,
    },
  },
  {
    name: 'Neon',
    config: {
      color1: '#ff006e',
      color2: '#ffbe0b',
      color3: '#00f5ff',
      color1Opacity: 100,
      color2Opacity: 100,
      color3Opacity: 100,
      color1Position: 0,
      color2Position: 50,
      color3Position: 100,
      gradientAngle: 225,
      patternOpacity: 10,
      patternColor: '#ffffff',
      patternEnabled: true,
      pattern1Angle: 90,
      pattern1Size: 6,
      pattern2Angle: 0,
      pattern2Size: 6,
      noiseEnabled: false,
      noiseOpacity: 10,
      noiseSize: 10,
    },
  },
  {
    name: 'Rose Gold',
    config: {
      color1: '#d4a574',
      color2: '#f4d4b0',
      color3: '#b8860b',
      color1Opacity: 100,
      color2Opacity: 100,
      color3Opacity: 100,
      color1Position: 0,
      color2Position: 50,
      color3Position: 100,
      gradientAngle: 135,
      patternOpacity: 4,
      patternColor: '#ffffff',
      patternEnabled: true,
      pattern1Angle: 45,
      pattern1Size: 12,
      pattern2Angle: -45,
      pattern2Size: 12,
      noiseEnabled: false,
      noiseOpacity: 10,
      noiseSize: 10,
    },
  },
  {
    name: 'Ruby Storm',
    config: {
      color1: '#663135',
      color2: '#0f89db',
      color3: '#e2fa38',
      color1Opacity: 68,
      color2Opacity: 91,
      color3Opacity: 93,
      color1Position: 23,
      color2Position: 63,
      color3Position: 91,
      gradientAngle: 62,
      patternOpacity: 3,
      patternColor: '#ffffff',
      patternEnabled: true,
      pattern1Angle: 154,
      pattern1Size: 8,
      pattern2Angle: -119,
      pattern2Size: 6,
      noiseEnabled: false,
      noiseOpacity: 10,
      noiseSize: 10,
    },
  },
  {
    name: 'Cyber Teal',
    config: {
      color1: '#31febc',
      color2: '#1414be',
      color3: '#58413a',
      color1Opacity: 87,
      color2Opacity: 69,
      color3Opacity: 83,
      color1Position: 20,
      color2Position: 42,
      color3Position: 75,
      gradientAngle: 12,
      patternOpacity: 3,
      patternColor: '#ffffff',
      patternEnabled: true,
      pattern1Angle: 93,
      pattern1Size: 2,
      pattern2Angle: -131,
      pattern2Size: 2,
      noiseEnabled: false,
      noiseOpacity: 10,
      noiseSize: 10,
    },
  },
  {
    name: 'Brown Grid',
    config: {
      color1: '#0088cc',
      color2: '#ff8844',
      color3: '#1a3a52',
      color1Opacity: 100,
      color2Opacity: 100,
      color3Opacity: 100,
      color1Position: 0,
      color2Position: 50,
      color3Position: 100,
      gradientAngle: 135,
      patternOpacity: 36,
      patternColor: '#b26262',
      patternEnabled: true,
      pattern1Angle: 45,
      pattern1Size: 46,
      pattern2Angle: -45,
      pattern2Size: 50,
      noiseEnabled: false,
      noiseOpacity: 10,
      noiseSize: 10,
    },
  },
  {
    name: 'Triple Blend',
    config: {
      color1: '#1a1a2e',
      color2: '#16213e',
      color3: '#0f3460',
      color1Opacity: 100,
      color2Opacity: 100,
      color3Opacity: 100,
      color1Position: 0,
      color2Position: 50,
      color3Position: 100,
      gradientAngle: 135,
      patternOpacity: 5,
      patternColor: '#ffffff',
      patternEnabled: true,
      pattern1Angle: 45,
      pattern1Size: 10,
      pattern2Angle: -45,
      pattern2Size: 10,
      noiseEnabled: false,
      noiseOpacity: 10,
      noiseSize: 10,
      gradientLayers: [
        {
          id: 'layer-1',
          type: 'linear' as const,
          color1: '#ff0000',
          color2: '#ff7f00',
          color1Position: 0,
          color2Position: 100,
          opacity: 80,
          blendMode: 'screen',
          angle: 217,
          radialCenterX: 50,
          radialCenterY: 50,
          radialShape: 'circle' as const,
          radialSize: 'farthest-corner' as const,
          conicAngle: 0,
          conicCenterX: 50,
          conicCenterY: 50,
        },
        {
          id: 'layer-2',
          type: 'linear' as const,
          color1: '#00ff00',
          color2: '#00ff7f',
          color1Position: 0,
          color2Position: 100,
          opacity: 80,
          blendMode: 'screen',
          angle: 127,
          radialCenterX: 50,
          radialCenterY: 50,
          radialShape: 'circle' as const,
          radialSize: 'farthest-corner' as const,
          conicAngle: 0,
          conicCenterX: 50,
          conicCenterY: 50,
        },
        {
          id: 'layer-3',
          type: 'linear' as const,
          color1: '#0000ff',
          color2: '#7f00ff',
          color1Position: 0,
          color2Position: 100,
          opacity: 80,
          blendMode: 'screen',
          angle: 336,
          radialCenterX: 50,
          radialCenterY: 50,
          radialShape: 'circle' as const,
          radialSize: 'farthest-corner' as const,
          conicAngle: 0,
          conicCenterX: 50,
          conicCenterY: 50,
        },
      ],
      multiLayerBlendingEnabled: true,
    },
  },
]

export const PRESETS: Preset[] = rawPresets.map(preset => ({
  ...preset,
  config: addDefaultProperties(preset.config)
}))
